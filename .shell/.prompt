#!/usr/bin/env bash

# `.prompt` which can be customized to increase productivity.
#
# This file is used as a part of `.shell_env`

# ====== Spaceship Settings ======

## https://github.com/denysdovhan/spaceship-prompt/wiki/Presets
## ORDER
SPACESHIP_PROMPT_ORDER=(
  time          # Time stamps section
  vi_mode       # Vi-mode indicator
  user          # Username section
  host          # Hostname section
  dir           # Current directory section
  git           # Git section (git_branch + git_status)
  # hg            # Mercurial section (hg_branch  + hg_status)
  package       # Package version
  node          # Node.js section
  ruby          # Ruby section
  # elixir        # Elixir section
  # xcode         # Xcode section
  #swift         # Swift section
  golang        # Go section
  docker        # Docker section
  # php           # PHP section
  # rust          # Rust section
  # haskell       # Haskell Stack section
  # julia         # Julia section
  aws           # Amazon Web Services section
  venv          # virtualenv section
  # conda         # conda virtualenv section
  pyenv         # Pyenv section
  # dotnet        # .NET section
  # ember         # Ember.js section
  kubecontext   # Kubectl context section
  terraform     # Terraform workspace section
  exec_time     # Execution time
  line_sep      # Line break
  battery       # Battery level and status
  jobs          # Background jobs indicator
  exit_code     # Exit code section
  char          # Prompt character
)

## USER
SPACESHIP_USER_PREFIX="" # remove `with` before username
SPACESHIP_USER_SUFFIX="" # remove space before host

## HOST
## Result will look like this:
##   username@:(hostname)
SPACESHIP_HOST_PREFIX="@:("
SPACESHIP_HOST_SUFFIX=") "

## DIR
SPACESHIP_DIR_PREFIX='' # disable directory prefix, cause it's not the first section
SPACESHIP_DIR_TRUNC='1' # show only last directory

## GIT
## Disable git symbol
SPACESHIP_GIT_SYMBOL="" # disable git prefix
SPACESHIP_GIT_BRANCH_PREFIX="" # disable branch prefix too
## Wrap git in `git:(...)`
SPACESHIP_GIT_PREFIX='git:('
SPACESHIP_GIT_SUFFIX=") "
SPACESHIP_GIT_BRANCH_SUFFIX="" # remove space after branch name
## Unwrap git status from `[...]`
SPACESHIP_GIT_STATUS_PREFIX=""
SPACESHIP_GIT_STATUS_SUFFIX=""

## NODE
SPACESHIP_NODE_PREFIX="node:("
SPACESHIP_NODE_SUFFIX=") "
SPACESHIP_NODE_SYMBOL=""

## RUBY
SPACESHIP_RUBY_PREFIX="ruby:("
SPACESHIP_RUBY_SUFFIX=") "
SPACESHIP_RUBY_SYMBOL=""

## XCODE
SPACESHIP_XCODE_PREFIX="xcode:("
SPACESHIP_XCODE_SUFFIX=") "
SPACESHIP_XCODE_SYMBOL=""

## SWIFT
SPACESHIP_SWIFT_PREFIX="swift:("
SPACESHIP_SWIFT_SUFFIX=") "
SPACESHIP_SWIFT_SYMBOL=""

## GOLANG
SPACESHIP_GOLANG_PREFIX="golang:("
SPACESHIP_GOLANG_SUFFIX=") "
SPACESHIP_GOLANG_SYMBOL=""

## DOCKER
SPACESHIP_DOCKER_PREFIX="docker:("
SPACESHIP_DOCKER_SUFFIX=") "
SPACESHIP_DOCKER_SYMBOL=""

## VENV
SPACESHIP_VENV_PREFIX="venv:("
SPACESHIP_VENV_SUFFIX=") "

## PYENV
SPACESHIP_PYENV_PREFIX="python:("
SPACESHIP_PYENV_SUFFIX=") "
SPACESHIP_PYENV_SYMBOL=""

## kubecontext
SPACESHIP_KUBECONTEXT_SHOW=""
SPACESHIP_KUBECONTEXT_PREFIX="k8s:("
SPACESHIP_KUBECONTEXT_SUFFIX=") "
SPACESHIP_KUBECONTEXT_SYMBOL=""
SPACESHIP_KUBECONTEXT_COLOR_GROUPS=(
  # red if namespace is "kube-system"
  red    '\(kube-system)$'
  # else, green if "dev-01" is anywhere in the context or namespace
  green  dev-01
  # else, red if context name ends with ".k8s.local" _and_ namespace is "system"
  red    '\.k8s\.local \(system)$'
  # else, yellow if the entire content is "tst-" followed by digits, and no namespace is displayed
  yellow '^tst-[0-9]+$'
)

## Terraform
SPACESHIP_TERRAFORM_SHOW=""
SPACESHIP_TERRAFORM_PREFIX="tf:("
SPACESHIP_TERRAFORM_SUFFIX=") "
SPACESHIP_TERRAFORM_SYMBOL=""

##aws
SPACESHIP_AWS_SHOW=""
SPACESHIP_AWS_PREFIX="aws:("
SPACESHIP_AWS_SUFFIX=") "
SPACESHIP_AWS_SYMBOL=""

# ====== Kubernetes prompt info for bash and zsh ======

## https://github.com/jonmosco/kube-ps1
# source "/usr/local/opt/kube-ps1/share/kube-ps1.sh"
# PROMPT='$(kube_ps1)'$PROMPT


# === Display information about the kubectl current context and namespace in zsh prompt ===

## https://github.com/superbrothers/zsh-kubectl-prompt
# autoload -U colors; colors
# source /usr/local/etc/zsh-kubectl-prompt/kubectl.zsh
# PROMPT='%{$fg[blue]%}($ZSH_KUBECTL_PROMPT)%{$reset_color%}'
# zstyle ':zsh-kubectl-prompt:' separator '|'
# zstyle ':zsh-kubectl-prompt:' namespace false
